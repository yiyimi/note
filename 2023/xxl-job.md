# xxl-job

## 重点

- 横向对比了解
- 架构（核心的实现原理）
- 

## 思考

- 在 Java 相关的后端服务开发中，会经常接触到多任务的动态创建、定时任务的实时执行。在多实例的业务场景中，java.util.Timer/SpringBoot @Scheduled注解均无法实现多任务的业务功能设计。这种情况下，则需要引入分布式的任务调度方案，解决定时任务的触发、调度及执行。
- 场景：
    - 固定周期任务触发发
    - 顺延任务触发？
    - 动态创建定时任务
- Quartz(Java作业调度框架)
- cron表达式
- 分布式任务调度（Quartz、Elastic-Job和XXL-JOB）
- 动态创建任务实现方式：
    - 

## 参考

在 Java 中，相比Timer/@Scheduler/Quartz等具体技术，任务调度 xxl-job 支持集群、统计，拥有管理平台、失败报警、可监控等。

业务场景中，需要使用定时任务的具体情况：

时间驱动的场景：某个时间点执行具体的任务操作。
批量处理数据：批量统计上个月的账单，统计上个月销售数据等等。
固定频率的场景：每隔5分钟执行一次具体任务。

在现在分布式的架构中，有一些场景需要分布式任务调度：

同一个服务多个实例的任务存在互斥时，需要统一的调度。
任务调度需要支持高可用、监控、故障告警。
需要统一管理和追踪各个服务节点任务调度的结果，需要记录保存任务属性信息等。


xxl-job则相反，是通过一个中心式的调度平台，调度多个执行器执行任务，调度中心通过DB锁保证集群分布式调度的一致性，这样扩展执行器会增大DB的压力，但是如果实际上这里数据库只是负责任务的调度执行。但是如果没有大量的执行器的话和任务的情况，是不会造成数据库压力的。实际上大部分公司任务数，执行器并不多(虽然面试经常会问一些高并发的问题)。

xxl-job中心式的调度平台轻量级，开箱即用，操作简易，上手快，与SpringBoot有非常好的集成，而且监控界面就集成在调度中心，界面又简洁，对于企业维护起来成本不高，还有失败的邮件告警等等。这就使很多企业选择xxl-job做调度平台。


## Reference

- [**3千字带你搞懂XXL-JOB任务调度平台**](https://zhuanlan.zhihu.com/p/263051022)

- [**PowerJob 简介(任务调度平台的对比）**](https://www.yuque.com/powerjob/guidence/intro)

